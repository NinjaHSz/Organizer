<!doctype html>
<html class="dark" lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta name="theme-color" content="#4285F4" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Organizer" />
    <title>Organizer</title>
    <link rel="icon" type="image/x-icon" href="assets/div.ico" />
    <link rel="manifest" href="manifest.json" />

    <!-- Styles -->
    <link rel="stylesheet" href="src/styles/main.css" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
      rel="stylesheet"
    />

    <!-- Supabase Client -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

    <script id="tailwind-config">
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              "action-primary": "#4285F4",
              "status-success": "#34A853",
              "status-warning": "#FBBC05",
              "status-error": "#EA4335",
              "text-primary": "var(--text-primary)",
              "text-secondary": "var(--text-secondary)",
              "surface-page": "var(--surface-page)",
              "surface-card": "var(--surface-card)",
              "surface-subtle": "var(--surface-subtle)",
            },
            borderRadius: { "ios-card": "10px" },
          },
        },
      };
    </script>
  </head>
  <body class="min-h-screen">
    <div class="flex min-h-screen w-full overflow-hidden bg-surface-page">
      <!-- Lateral Desktop -->
      <aside
        class="hidden lg:flex flex-col w-64 bg-surface-card shrink-0 z-40 transition-all duration-300 overflow-hidden shadow-sm"
      >
        <div class="p-8 flex items-center gap-4">
          <div class="bg-action-primary/10 p-2.5 rounded-xl shrink-0">
            <span class="material-symbols-outlined text-action-primary text-2xl"
              >grid_view</span
            >
          </div>
          <h1 class="text-2xl font-bold tracking-tight text-text-primary">
            Organizer
          </h1>
        </div>

        <nav class="flex-1 px-4 py-4 space-y-2">
          <button
            data-nav="tasks"
            class="nav-btn group w-full flex items-center gap-4 px-5 rounded-xl transition-all touch-target touch-feedback cursor-pointer"
          >
            <span
              class="material-symbols-outlined text-text-secondary group-hover:text-action-primary transition-colors"
              >dashboard</span
            >
            <span
              class="font-bold text-sm text-text-secondary group-hover:text-action-primary transition-colors"
              >Início</span
            >
          </button>
          <button
            data-nav="calendar"
            class="nav-btn group w-full flex items-center gap-4 px-5 rounded-xl transition-all touch-target touch-feedback cursor-pointer"
          >
            <span
              class="material-symbols-outlined text-text-secondary group-hover:text-action-primary transition-colors"
              >calendar_today</span
            >
            <span
              class="font-bold text-sm text-text-secondary group-hover:text-action-primary transition-colors"
              >Minha Agenda</span
            >
          </button>
          <button
            data-nav="subjects-config"
            class="nav-btn group w-full flex items-center gap-4 px-5 rounded-xl transition-all touch-target touch-feedback cursor-pointer"
          >
            <span
              class="material-symbols-outlined text-text-secondary group-hover:text-action-primary transition-colors"
              >folder</span
            >
            <span
              class="font-bold text-sm text-text-secondary group-hover:text-action-primary transition-colors"
              >Minhas Matérias</span
            >
          </button>
          <button
            data-nav="settings"
            class="nav-btn group w-full flex items-center gap-4 px-5 rounded-xl transition-all touch-target touch-feedback cursor-pointer"
          >
            <span
              class="material-symbols-outlined text-text-secondary group-hover:text-action-primary transition-colors"
              >tune</span
            >
            <span
              class="font-bold text-sm text-text-secondary group-hover:text-action-primary transition-colors"
              >Ajustes</span
            >
          </button>
        </nav>
      </aside>

      <!-- Superfície Principal -->
      <div
        class="flex-1 flex flex-col min-w-0 h-screen overflow-hidden relative"
      >
        <!-- Cabeçalho -->
        <header
          class="sticky top-0 z-40 bg-[var(--surface-page)]/80 ios-blur px-6 pt-4 pb-4"
        >
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-3">
              <h1
                id="header-title"
                class="text-xl font-bold tracking-tight text-[var(--text-primary)]"
              >
                Organizer
              </h1>
            </div>
            <div class="flex items-center gap-3">
              <button
                id="header-search-btn"
                class="p-2 rounded-full hover:bg-white/5 transition-colors"
              >
                <span
                  class="material-symbols-outlined text-[var(--text-secondary)]"
                  >search</span
                >
              </button>
            </div>
          </div>
        </header>

        <!-- Conteúdo Principal -->
        <main
          id="app-root"
          class="flex-1 overflow-y-auto px-6 md:px-12 pb-24 lg:pb-0 no-scrollbar"
        >
          <!-- Screens injected here -->
        </main>

        <!-- FAB (Desktop Only) -->
        <!-- FAB Desktop -->
        <button
          id="global-add-btn"
          class="hidden lg:flex fixed bottom-12 right-12 z-50 bg-[var(--action-primary)] text-white rounded-full shadow-button-primary items-center justify-center size-14 hover:scale-110 active:scale-95 transition-transform"
        >
          <span class="material-symbols-outlined text-3xl">add</span>
        </button>

      <!-- Mobile Nav Container (Rendered by JS) -->
      <div id="mobile-nav-root"></div>
    </div>

    <!-- Modals & Toasts -->
    <div id="modal-container"></div>
    <div
      id="notifications-root"
      class="fixed top-12 left-0 right-0 z-[100] flex flex-col items-center pointer-events-none"
    ></div>

    <script type="module" src="src/main.js"></script>
  </body>
</html>
